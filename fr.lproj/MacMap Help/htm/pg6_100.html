<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>XMap Editeur de formules</title>
<link rel="stylesheet" href="../css/style.css">
<meta name="AppleTitle" content="Aide MacMap®">
<meta name="AppleIcon" content="MacMap Help/img/MacMapIcon.png">
<meta name="keywords" content="Editeur de formules">
</head>
<body>
<a name=pg6_100>
</a>
<table class="switch" width=100%>
<tr>
<td align="left">
<a href="help:anchor='pg0_3' bookID=Aide MacMap®">Index Menu</a>
</td>
<td align="right">
<a href="help:anchor='pg0_4' bookID=Aide MacMap®">Index Alphabétique</a>
</td>
</tr>
</table>
<br>
<table border=0 cellspacing=0 cellspacing=0 width=100%>
<tr>
<td class="item">
XMap Editeur de formules
</td>
</tr>
<tr>
<td>
<p>
Permet de créer ou de modifier une calc utilisateur.<br>
Le popup situé en haut de la fenêtre permet de choisir parmi les éléments composant une calc utilisateur : Opérateurs, Itérateurs, Fonctions, Constantes, Champs, Calcs et Macros.<br>
Un popup additionnel vient s'ajouter lorsque l'on choisi la commande "Champs" : il permet de déterminer pour quel type on veut obtenir la liste des champs.<br>
La liste située en dessous de ces popups permet d'afficher l'ensemble des éléments disponibles pour une catégorie.<br>
Les formules sont représentées sous forme d'arbre dans la zone de dessin centrale. Un double-clic dans cette zone permet de centrer le graphe sur le point cliqué. Un clic simple sur l'un des éléments composant la formule permet de le sélectionner.<br>
Un élément sélectionné peut-être remplacé par un autre élément de même catégorie, ou effacé à l'aide du bouton "Effacer".<br>
Les formules sont résolues de haut en bas, en partant des extrémités de l'arbre.<br>
Les formules sont entrée en logique polonaise, c'est à dire en posant en premier les éléments résolus en dernier.<br>
Pour terminer, il faut spécifier un nom et le type de valeur retournée dans les champs ad-hoc.<br>
 
<b>Opérateurs :</b>
<br>
Les opérateurs acceptent deux arguments quelconques. Il effectue une opération entre leurs deux termes.<br>
Les opérateurs disponibles actuellement sont :<br>
and : et logique (booléen)<br>
beginwith : chaîne commençant par une autre chaîne (booléen)<br>
contain : chaîne contenant une autre chaîne (booléen)<br>
div : division (flottant)<br>
endwith : chaîne se terminant par une autre chaîne (booléen)<br>
equal : égalité entre 2 termes (booléen)<br>
higher : supérieur (booléen)<br>
higherorequal : supérieur ou égal (booléen)<br>
lower : inférieur (booléen)<br>
lowerorequal : inférieur ou égal (booléen)<br>
minus : soustraction (flottant)<br>
modulo : modulo (entier)<br>
mult : multiplication (flottant)<br>
notequal  : différent (booléen)<br>
or : ou logique (booléen)<br>
plus : addition (flottant)<br>
pow : puissance (flottant)<br>
strcat : concaténation de chaînes (chaîne de caractère)<br>
xor : ou logique exclusif (booléen)<br>
<b>Itérateurs :</b>
<br>
Les itérateurs acceptent deux arguments, dont le premier doit être soit une macro, soit laissé vide. Dans le premier cas, l'iterateur commence par exécuter la macro, puis effectue ensuite une opération sur le second terme pour la sélection résultant de cette macro. Dans le second, l'itérateur utilise la sélection courante.<br>
Les itérateurs disponibles actuellement sont :<br>
average : moyenne (flottant)<br>
first : ne prend en compte que le premier objet de la sélection (le résultat dépend du second terme)<br>
last : ne prend en compte que le dernier objet de la sélection (le résultat dépend du second terme)<br>
max : maximum (le résultat dépend du second terme)<br>
median : médiane (flottant)<br>
min : minimum (le résultat dépend du second terme)<br>
product : produit (flottant)<br>
single : retourne la valeur NaN si la sélection compte plus d'un objet (le résultat dépend du second terme)<br>
stddeviation : ecart type (flottant)<br>
sum : somme (flottant)<br>
variance : variance (flottant)<br>
<b>Fonctions :</b>
<br>
Les fonctions acceptent un argument quelconque.<br>
Les fonctions disponibles actuellement sont :<br>
ceil : retourne le plus petit entier qui ne soit pas inférieur à son argument (flottant)<br>
cos : retourne le cosinus d'un angle en radians (flottant)<br>
exp : retourne l'exponentielle de son argument (flottant)<br>
fact : retourne la factorielle de son argument (flottant)<br>
floor : retourne le plus grand entier qui ne soit pas supérieur à son argument (flottant)<br>
inv : retourne 1/son argument (flottant)<br>
ln : retourne le logarithme népérien de son argument (flottant)<br>
log : retourne le logarithme à base 10 de son argument (flottant)<br>
not : retourne le contraire de son argument (booléen)<br>
round : retourne l'arrondi de son argument (flottant)<br>
sin : retourne le sinus d'un angle en radians (flottant)<br>
sqr : retourne le carré de son argument (flottant)<br>
sqrt : retourne la racine carrée de son argument (flottant)<br>
strlen : retourne la longueur de son argument en tant que chaîne (flottant)<br>
strlwr : effectue un bas de casse sur son argument en tant que chaîne (chaîne de caractère)<br>
strsntfcupr : effectue un haut de casse sur la première lettre de son argument en tant que chaîne (chaîne de caractère)<br>
strupr : effectue un haut de casse sur son argument en tant que chaîne (chaîne de caractère)<br>
strwrdfcupr : effectue un haut de casse sur la première lettre des mots de son argument en tant que chaîne (chaîne de caractère)<br>
tan : retourne la tangente d'un angle en radians (flottant)<br>
<b>Constantes :</b>
<br>
Les fonctions n'acceptent pas d'argument.<br>
Les constantes standard disponibles actuellement sont présentées dans la <a href="pg1_613.html">Boîte Constantes</a>
<br>
<b>Champs :</b>
<br>
Les fonctions n'acceptent pas d'argument.<br>
<b>Calcs :</b>
<br>
Les calcs n'acceptent pas d'argument.<br>
Les calcs standard disponibles actuellement sont présentées dans la <a href="pg1_607.html">Boîte Calcs</a>
<br>
<b>Macros :</b>
<br>
Les macros n'acceptent pas d'argument.<br>
</p>
<p>
<b>Exemples</b>
<br>
Densité de population :
Pour calculer la densité de population sur un type surfacique dans une base en mètres, on commence par poser l'opérateur divisé ("div"), puis l'opérateur multiplié ("mult") sur la branche inférieure du premier.<br>
On pose ensuite le champ "Population" sur la branche haute de "div", la calc "Surface" sur la branche haute de "mult" et la constante "1000" sur la branche basse de "mult", pour obtenir un résultat en km2. On donne ensuite un nom à cette calc, et on spécifie le type de valeur retournée (flottant).<br>
La formule est représentée ainsi :<br>
<img src="../img/formula1.png" alt="formula1.png">
<br>
</p>
</td>
</tr>
</table>
<p>
<a href="pg1_607.html">Boîte Calcs</a>
</p>
</body>
</html>
